<!DOCTYPE html>
<html>

<head>
    <title> Test </title>
    <link rel="stylesheet" href="tableData/tableData.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />

    <style>
        #map {
            position: absolute;
            height: 650px;
            width: 50%
        }
    </style>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <link rel="shortcut icon" href="/assets/favicon.ico">
    <link rel="stylesheet" href="/assets/dcode.css">
    <link rel="stylesheet" href="keyboard/Keyboard.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

    <div class="container">
        <br />
        <div id="tabledivcontainer">

        </div>
    </div>

    <div id="map"></div>
    <script>
        function initMap() {
            var options = {
                zoom: 11,
                center: { lat: 39.878844, lng: -75.24019 },
                gestureHandling: 'none',
                zoomControl: false,
                streetViewControl: false,
                overviewMapControl: false,
                rotateControl: false,
                mapTypeControl: false,
                scaleControl: false,
                fullscreenControl: false,
            };
            var map = new google.maps.Map(document.getElementById('map'), options);
        };
    </script>

    <script defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyANhNCal5bctXQTJgyiELUsnLIZkFBD85o&callback=initMap">
    </script>

    <textarea class="use-keyboard-input" style="position: absolute; top: 400px; right: 30px; width: 300px;"></textarea>

    <script src="keyboard/Keyboard.js"></script>

    <script>
        var searchoutput = document.getElementById("text").value
        document.getElementById("text").value
    </script>
</body>
</html>

<script type="text/javascript">
    var tablefl = [
        {
            "Callsign": "N759CD",
            "Departure": "PHL",
            "Arrival": "AUS",
            "Altitude": "28",
            "speed": "220"
        }
        ,
        {
            "Callsign": "A475PG",
            "Departure": "PHL",
            "Arrival": "YYZ",
            "Altitude": "30",
            "speed": "200"
        }
        ,
        {
            "Callsign": "O3847LR",
            "Departure": "PHL",
            "Arrival": "ABY",
            "Altitude": "30",
            "speed": "230"
        }
        ,
        {
            "Callsign": "TWD23PS",
            "Departure": "PHL",
            "Arrival": "ALB",
            "Altitude": "29",
            "speed": "220"
        },
        {
            "Callsign": "T293R",
            "Departure": "PHL",
            "Arrival": "ATH",
            "Altitude": "31",
            "speed": "225"
        }
        ,
        {
            "Callsign": "EYU293W",
            "Departure": "BDU",
            "Arrival": "PHL",
            "Altitude": "33",
            "speed": "250"
        }
        ,
        {
            "Callsign": "TQ2123N",
            "Departure": "BPT",
            "Arrival": "PHL",
            "Altitude": "34",
            "speed": "300"
        }
        ,
        {
            "Callsign": "AH9238L",
            "Departure": "BFL",
            "Arrival": "PHL",
            "Altitude": "38",
            "speed": "265"
        }
        ,
        {
            "Callsign": "A923H",
            "Departure": "BBA",
            "Arrival": "PHL",
            "Altitude": "27",
            "speed": "230"
        }
        ,
        {
            "Callsign": "TH284N",
            "Departure": "BKK",
            "Arrival": "PHL",
            "Altitude": "36",
            "speed": "240"
        }
        ,
        {
            "Callsign": "WO0238R",
            "Departure": "BKW",
            "Arrival": "BEL",
            "Altitude": "31",
            "speed": "255"
        }
        ,
        {
            "Callsign": "W923T",
            "Departure": "BRE",
            "Arrival": "BJS",
            "Altitude": "41",
            "speed": "270"
        }
        ,
        {
            "Callsign": "Q2398Y",
            "Departure": "BRO",
            "Arrival": "BKX",
            "Altitude": "40",
            "speed": "260"
        }
        ,
        {
            "Callsign": "QP293H",
            "Departure": "BDS",
            "Arrival": "BOS",
            "Altitude": "25",
            "speed": "270"
        }
        ,
        {
            "Callsign": "UX203G",
            "Departure": "CPR",
            "Arrival": "BTV",
            "Altitude": "44",
            "speed": "300"
        }
    ]
    convertJsontoHtmlTable();
    function convertJsontoHtmlTable()
    {

        //Getting value for table header
        var tablecolumns = [];
        for (var i = 0; i < tablefl.length; i++) {
            for (var key in tablefl[i]) {
                if (tablecolumns.indexOf(key) === -1) {
                    tablecolumns.push(key);
                }
            }
        }

        //Creating html table and adding class to it
        var tableflight = document.createElement("table");
        tableflight.classList.add("table");
        tableflight.classList.add("table-striped");
        tableflight.classList.add("table-bordered");
        tableflight.classList.add("table-hover")

        //Creating header of the HTML table using
        //tr
        var tr = tableflight.insertRow(-1);

        for (var i = 0; i < tablecolumns.length; i++) {
            //header
            var th = document.createElement("th");
            th.innerHTML = tablecolumns[i];
            tr.appendChild(th);
        }

        // Add employee JSON data in table as tr or rows
        for (var i = 0; i < tablefl.length; i++) {
            tr = tableflight.insertRow(-1);
            for (var j = 0; j < tablecolumns.length; j++) {
                var tabCell = tr.insertCell(-1);
                tabCell.innerHTML = tablefl[i][tablecolumns[j]];
            }
        }

        //Final step , append html table to the container div
        var employeedivcontainer = document.getElementById("tabledivcontainer");
        tabledivcontainer.innerHTML = "";
        tabledivcontainer.appendChild(tableflight);
    }
</script>